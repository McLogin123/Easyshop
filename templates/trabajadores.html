<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Trabajadores</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h2>Buscar Trabajador</h2>
    <form action="{{ url_for('buscar_trabajador') }}" method="GET">
        <label for="criterio">Buscar por:</label>
        <select id="criterio" name="criterio">
            <option value="id">ID</option>
            <option value="nombre">Nombre</option>
        </select>

        <label for="valor">Valor:</label>
        <input type="text" id="valor" name="valor">

        <button type="submit">Buscar</button>
    </form>


    <h1>Lista de Trabajadores</h1>
    <ul>
        {% for t in trabajadores %}
            <li>
                <strong>ID:</strong> {{ t._id }} <br>
                <strong>Nombre:</strong> {{ t.nombre }} <br>
                <strong>Tipo:</strong> {{ t.tipo }} <br>
                <strong>Teléfono:</strong> {{ t.contacto.telefono }} <br>
                <strong>Email:</strong> {{ t.contacto.email }}
                <form action="{{ url_for('eliminar_trabajador', id=t._id) }}" method="POST" style="display:inline;">
                    <button type="submit">Eliminar</button>
                </form>
                <a href="{{ url_for('editar_trabajador', id=t._id) }}">Editar</a>
            </li>
            <hr>
        {% endfor %}
    </ul>

    <h2>Agregar Nuevo Trabajador</h2>
    <form action="{{ url_for('crear_trabajador') }}" method="POST">
        <label for="id">ID:</label>
        <input type="text" id="id" name="id" placeholder="Continuar con el patron" required>
        
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required>
        
        <label for="tipo">Tipo:</label>
        <input type="text" id="tipo" name="tipo" required>
        
        <label for="telefono">Teléfono:</label>
        <input type="text" id="telefono" name="telefono" required>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        
        <button type="submit">Agregar Trabajador</button>
    </form>

    <h4>
        <a href="{{ url_for('index')}}">Volver</a>
    </h4>
</body>